{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ec53979dcb90d58e4f3a","webpack:///./src/index.ts","webpack:///./src/core/Usync.ts","webpack:///./src/utils/utils.ts","webpack:///./src/core/lifeCycle.ts"],"names":[],"mappings":"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","file":"Usync.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Usync\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Usync\"] = factory();\n\telse\n\t\troot[\"Usync\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ec53979dcb90d58e4f3a","/// <reference path=\"./index.d.ts\" />\nimport {Usync} from './core/Usync';\nmodule.exports = Usync;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import {assign} from '../utils/utils'\nimport lifeCycle from './lifeCycle'\nimport {IObject, IOptions, IBaseHandler, IFunction, ILifeCycle} from '../interface/interface'\n\nenum STATE {\n    READY = 0,\n    PENDING = 1,\n    FULFILLED = 2,\n    REJECTED = 3\n}\n\ntype IState = string | IObject | IObject[];\ntype IHandler = Usync | IBaseHandler;\n\nexport class Usync {\n\n    private root: IObject;\n    private vessel: IObject = {};\n    private defferd: IHandler[];\n    private index: number;\n\n    public state: number;\n    public startTime: number;\n    public endTime: number;\n    public __name__: string;\n    public __state__: number;\n\n    // Wait to reset value\n    constructor(state: IState, options?: IOptions) {\n\n        this.root = Array.isArray(state) ? state :\n            typeof state === 'string' ? ((this.setName(state)) && <IObject>{}) :\n                typeof state === 'object' ? [state] : <IObject>{}\n\n        options = assign({}, options)\n\n        if (<string>options.name) {\n            this.setName(options.name)\n        }\n\n        this.root.$name = this.__name__\n\n        this.defferd = []\n        this.index = -1\n        this.state = STATE.READY\n    }\n\n    private fulfilledBroadcast() {\n    }\n\n    get currentDefferd() {\n        return <IHandler>this.defferd[this.index]\n    }\n\n    get prevDefferd() {\n        return <IHandler>this.defferd[this.index - 1]\n    }\n\n    get nextDefferd() {\n        return <IHandler>this.defferd[this.index + 1]\n    }\n\n    public setName(name: string) {\n        this.__name__ = name\n        return this\n    }\n\n    get name() {\n        return this.__name__\n    }\n\n    public use(handler: IHandler | IHandler[]) {\n\n        // Supoort Array syntax\n        if (Array.isArray(handler)) {\n            for (let childHandler of handler) {\n                this.use(childHandler)\n            }\n            return this;\n        }\n\n        this.defferd.push(<IHandler>handler)\n\n        if (this.defferd.length === 1) {\n            this.state = STATE.PENDING\n            this.index = 0\n\n        } else {\n            // Previous task has been FULFILLED, directly to the next task execution\n            if (this.defferd[this.defferd.length - 2].__state__ === STATE.FULFILLED) {\n                this.then()\n            }\n        }\n\n        return this\n    }\n\n    private then() {\n        // Add Support for time record\n        this.currentDefferd.startTime = new Date().getTime()\n\n        let argues = [this.root].concat(this.done.bind(this))\n\n        try {\n\n            this.setRootProperty()\n            this.runHookByName('taskStart')\n            if (typeof this.currentDefferd === 'function') {\n                let returnValue = this.currentDefferd.apply(this, argues)\n\n                if (returnValue instanceof Promise) {\n                    returnValue.then(() => {\n                        this.done.call(this)\n                    }).catch(err => {\n                        throw err\n                    })\n                }\n\n            } else if (this.currentDefferd instanceof Usync) {\n                this.currentDefferd.fulfilledBroadcast = this.done.bind(this)\n                this.currentDefferd.start()\n            }\n\n        } catch (err) {\n\n            if (this.vessel.catch) {\n                let errArgues = [err].concat([this.root], this.done.bind(this))\n                this.vessel.catch.apply(this, errArgues)\n\n            } else {\n                throw new Error(err)\n            }\n\n        }\n    }\n\n    private setRootProperty() {\n        this.root.$current = this.currentDefferd\n        this.root.$prev = this.prevDefferd\n        this.root.$next = this.nextDefferd\n    }\n\n    private done() {\n\n        this.currentDefferd.__state__ = STATE.FULFILLED\n        this.currentDefferd.endTime = new Date().getTime()\n        this.setRootProperty()\n\n        this.runHookByName('taskEnd')\n        this.index++\n        // defferd running finished\n        if (this.index === this.defferd.length) {\n            this.state = STATE.FULFILLED\n            this.defferd = []\n            this.index = -1\n            this.runHookByName('appEnd')\n\n            // When a Usync instance set as a child task for another Usync instance\n            // fulfilledBroadcast() will tell the parent it was fulfilled\n            if (typeof this.fulfilledBroadcast === 'function') {\n                this.fulfilledBroadcast()\n            }\n\n            return;\n        }\n\n        // Synchronous task call next,\n        // subsequent task at this time has not yet been push, return directly\n        if (this.currentDefferd === undefined) {\n            return;\n        }\n        // Asynchronous task, subsequent task was already pushed\n        // but didn't execute\n        else if (this.currentDefferd.__state__ === undefined) {\n            this.then()\n        }\n    }\n\n    catch(fn: IFunction) {\n        this.vessel.catch = fn;\n        return this;\n    }\n\n    start() {\n        this.runHookByName('appStart')\n        this.startTime = new Date().getTime()\n        this.then()\n    }\n\n    runHookByName(hookName: string) {\n\n        let hook = new Function(`this.lifecycleList.${hookName}Quene.forEach(start => start.call(this, this.root))\n        if (this.proto.lifecycleList) {\n            var ${hookName}Quene = this.proto.lifecycleList.${hookName}Quene\n            ${hookName}Quene.forEach(start => start.call(this, this.root))\n        }`)\n\n        hook.call(this)\n    }\n\n    get proto() {\n        return Object.getPrototypeOf(this);\n    }\n\n    extend(hooks: ILifeCycle) {\n        for (let key of Object.keys(this.lifecycleList)) {\n            let _key = key.replace('Quene', '')\n            if (hooks[_key]) {\n                this.lifecycleList[key].push(hooks[_key])\n            }\n        }\n    }\n\n    private lifecycleList = lifeCycle.init();\n\n    static app(state: IState) {\n        return new Usync(state)\n    }\n\n    static extend(hooks: ILifeCycle) {\n        Usync.prototype.lifecycleList = lifeCycle.init();\n        Usync.prototype.extend.call(Usync.prototype, hooks)\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Usync.ts","import {IObject} from '../interface/interface'\n\nexport function assign(target: IObject, ...restOb: IObject[]): IObject {\n\n    if (target == null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n\n    for (var index = 0; index < restOb.length; index++) {\n        var source = restOb[index]\n        if (source != null) {\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key]\n                }\n            }\n        }\n    }\n\n    return target;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.ts","import {ILifecycleMap} from '../interface/interface'\n\nconst LIFE_CYCLE = {\n    appStart: 1,\n    taskStart: 2,\n    taskEnd: 3,\n    appEnd: 4\n}\n\nexport default {\n    init () {\n        let list = <ILifecycleMap>{}\n        for (let cycle of Object.keys(LIFE_CYCLE)) {\n            list[cycle + 'Quene'] = []\n        }\n        return <ILifecycleMap>list;\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/lifeCycle.ts"],"sourceRoot":""}